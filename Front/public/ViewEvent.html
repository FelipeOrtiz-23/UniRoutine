<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Eventos - FocusFlow</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Lista de Eventos</h1>
        <nav>
            <a href="index.html">Inicio</a>
            <a href="events.html">Ver Eventos</a>
            <a href="tasks.html">Ver Tareas</a>
        </nav>
    </header>
    <main>
        <section class="event-list-section">
            <h2>Eventos</h2>
            <ul id="event-list"></ul> <!-- Aquí se mostrarán los eventos -->
        </section>
    </main>
    <footer>
        <p>© 2024 FocusFlow. Todos los derechos reservados.</p>
    </footer>
    <script>
        // Función para cargar eventos desde el servidor
        async function loadEvents() {
            try {
                const response = await fetch('/api/events');
                if (response.ok) {
                    const events = await response.json();
                    const eventList = document.getElementById('event-list');
                    eventList.innerHTML = '';  // Limpiar lista antes de agregar nuevos eventos

                    // Iterar sobre los eventos y agregarlos a la lista
                    events.forEach(event => {
                        const li = document.createElement('li');
                        li.innerHTML = `
                            <strong>${event.event_name}</strong><br>
                            Fecha: ${event.event_date}<br>
                            Descripción: ${event.event_description || 'No hay descripción'}
                        `;
                        eventList.appendChild(li);
                    });
                } else {
                    console.error('No se pudo cargar los eventos');
                }
            } catch (error) {
                console.error('Error al cargar los eventos:', error);
            }
        }

        // Cargar los eventos cuando la página se carga
        document.addEventListener('DOMContentLoaded', loadEvents);
    </script>
</body>
</html>
